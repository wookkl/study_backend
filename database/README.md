## Redis(REmote DIctionary Server)란?

- Redis는 고성능 키-값 구조인 데이터베이스다. 리스트, 해시, 셋, 정렬된 셋 등 여러 자료구조를 지원하는 NoSQL이다. 일반 데이터베이스와 다르게 메모리에 상주하기 떄문에 굉장히 빠르다. 그렇기 때문에 RDBMS의 캐시 솔루션으로 주로 사용된다.

### 사용용도

- 메세지 큐, 공유 메모리, 리모트 딕셔너리 용도로 사용된다.
- RDBMS의 캐시 솔루션으로 가장 많이 사용된다.
- RDBMS에서 SELECT 쿼리문을 날려 특정 데이터들을 fetch했을 떄, RDBMS의 구조상 디스크에서 데이터를 꺼내오는 것이 메모리에서 가져오는 것보다 천배 더 느리다.

### 특징

- Key-Value: 레디스는 거대한 맵 저장소로 데이터를 쉽게 저장하고 사용할 수 있다.
- 다양한 데이터 타입: Key로 참조되는 Value 타입을 다양하게 지정할 수 있다. (List, String, Set, Sorted set 등)
- 지속성: 데이터를 디스크에 저장할 수 있다. 따라서, 서버가 셧다운되더라도 다시 디스크에 저장해놓은 데이터들을 다시 읽어 데이터가 유실되지 않는다. 데이터를 저장하는 방식은 스냅샷과 AOF방식이 있다.

> Snapshot: RDB에서도 사용되는 방식인데 특성 시점에서의 데이터를 디스크에 옮기는 방식을 말한다.
> AOF: 모든 read/write 연산 자체를 로그 파일에 기록하는 방식이다. 서버가 재시작할 때 로그 파일에 저장된 read/write를 순차적으로 재실행한다.

레디스에서는 rollback시스템과 같이 두 방식을 혼용해서 사용하는 것을 권장한다. 주기적으로 스냅샷으로 백업하고 다음 스냅샷까지의 저장을 AOF에 저장하는 것이다.

- ANSI C: C언어로 작성되어 Java와 같이 가상머신 위에서 동작하는 언어에서 발생하는 성능 문제에 자유롭다.
- 복제 및 샤딩: 읽기 성능 증대를 위한 서버 측 복제를 지원한다. 쓰기 성능 증대를 위한 클라이언트 측 샤딩을 지원한다.

### 아키텍처

- Redis Topology: Master-Slave 형태로 데이터를 복제해서 운영할 수 있다. 이 Master-Slaver 간의 복제는 논-블로킹 상태로 이어진다.
- Redis Sharding: 데이터를 샤딩하여 레디스의 읽기 성능을 높일 수 있다. 데이터를 나누어서 데이터 용량을 확장하고 각 서버에 있는 레디스의 부하를 나누어 줄일 수 있다.
- Redis Cluster: 대부분의 회사가 레디스를 클러스터링하여 가용성 및 안정성있는 캐시 매니저로 사용된다.

### 주의할 점

- 인 메모리 데이터 저장소로서 데이터 유실이 발생할 수 있기 떄문에 스냅샷과 AOF같은 복구 시나리오가 제대로 구축되어야 대처할 수 있다.

## Memcached란?

분산 메모리 캐시 시스템으로써 RAM에 데이터 및 오브젝트를 캐시함으로써 데이터베이스 및 API에서 읽어와야 하는 횟수를 줄일 수 있다.
또한, 무료이면서 오픈 소스 소프트웨어이다. DB나 API호출 또는 렌더링 등으로부터 받아오는 결과를 작은 단위의 key-value 데이터로 메모리에 저장하는 방식이다.

## Redis와 Memcached 공통점

### Sub-millisecond latency

- 밀리초 미만의 반응 시간을 지원한다. 메모라에 데이터를 정렬함으로써 디스크 기반의 데이터베이스보다 더 빨리 데이터를 읽을 수 있다.

### Developer ease of use

- 사용하기 쉬운 문법으로 적은 양의 코드로 애플리케이션에 사용할 수 있다.

### Data partitioning

- 여러 노드에 데이터를 나눌 수 있다. 이로 인해 수요가 늘어날 떄 서버를 늘려 더 많은 데이터를 처리할 수 있도록 한다.

### Support for a broad set of programming languages

- 사용 가능한 많은 오픈 소스 클라이언트를 가지고 있다. Java, Python, C, C++, C# 등 언어를 지원한다.

## Redis와 Memcached 차이점

### Advanced data structures

- 레디스는 String 뿐만 아니라 다양한 자료구조를 지원한다.

### Multithread architecture

- 멤캐쉬는 여러 쓰레드에서 이용이 가능하기 때문에 멀티 프로세싱 코어를 이용할 수 있다. 스케일링 업을 통해 더 많은 일을 처리할 수 있다.

### Snapshot

레디스는 한 시점의 스냅샷을 디스크에 저장해서 데이터를 보존할 수 있다.

### Replication

레디스는 원본 데이터를 여러 복제본으로 만들 수 있다. 이를 통해 데이터베이스의 읽기 성능을 향상시킬 수 있고 고가용성의 클러스터로 구축할 수 있다.

### Transacitons

- 명령어 그룹을 독립된 단일 연산으로 실행시키는 트랜잭션을 지원한다.

### Pub/Sub

- 고 성능 채팅방, 실시간 댓글 스트림, 소셜 미디어 피드, 그리고 서버 통신에 사용될 수 있는 패턴 매칭을 포함한 Pub/Sub 메세징을 지원한다.
