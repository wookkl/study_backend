# 운영체제 인터뷰 질문들

## cpu, gpu 연산의 차이점과 어디에 주로 쓰이는지 설명하세요.

### 차이점

- GPU는 CPU와 달리 코어가아주 많다.
- CPU는 복잡한 계산을 빠르게 할 수 있지만 모두 직렬로 처리한다.
- GPU는 복잡한 계산을 빠르게 할 수 있고, 많은 연산을 병렬로 동시에 할 수 있다.

### CPU 장단점

- 복잡한 계산을 코어 갯수 만큼씩 처리하게 된다.
- 예로 복잡한 팩토리얼 계산식을 2개 계산해야 한다고 했을 때 CPU로 계산을 해주면 빨리 할 수 있다.
- 단점: 간단하고 많은 게산식은 오래걸린다.

### GPU 장단점

- 간단한 많은 계산식은 동시에 빠르게 처리할 수 있다.
- 예로 1000개의 덧셈식을 한번에 병렬로 처리가 가능하다.
- 단점: 초기에 알고리즘을 하드웨어에 병렬로 부여해 주어야 하고, 복잡한 식을 입력하면 도리어 CPU 연산 속도보다 느려질 수 있다.

## 프로세스와 스레드 차이에 대해 설명하세요.

### 프로세스

- 메모리에 상주하며 실행되고 있는 프로그램의 인스턴스
- 운영체제로 부터 시스템 자원을 할당받는 작업의 단위
- 시스템 자원: CPU 점유 시간, 운영되기 위한 주소 공간, 코드, 스택, 힙, 데이터 구조로 되어 있는 독립된 메모리 영역

#### 특징

- 프로세스는 각각 독립된 메모리 영역(코드, 스택, 힙, 데이터)을 할당 받는다.
- 기본적으로 프로세스당 최소 1개의 스레드를 가지고 있다.
- 각 프로세스는 별도의 주소 공간에서 실행되고, 하나의 프로세스는 다른 프로세스에 접근할 수 없다.
- 프로세스간 자원을 접근하려면 프로세스 간의 통신(IPC)을 사용해야한다.

### 스레드

- 프로세스의 특정한 수행 경로
- 프로세스가 할당받은 자원을 이용하는 실행의 단위

#### 특징

- 스레드는 프로세스 내에서 각각 스택만 따로 할당받고 코드, 데이터, 힙은 공유한다.
- 스레드는 한 프로세스내에서 동작되는 여러 실행의 흐름으로, 프로세스 내의 주소 공간이나 자원들을 같은 프로세스 내에 스레드끼리 공유하면서 실행된다.
- 한 스레드가 프로세스 자원을 변경하면, 다른 스레드는 변경 결과를 즉시 볼 수 있다.

### 멀티 프로세스와 멀티 스레드의 차이

#### 멀티 프로세스

- 하나의 응용프로그램을 여러 개의 프로세스로 구성하여 각 프로세스가 하나의 작업을 수행하도록 하는 것이다.
- 여래 개의 자식 프로세스 중 하나에 문제가 발생하면 그 자식 프로세스가 죽고 다른 프로세스에게 영향을 끼치지 않는다.
- Context switching 오버헤드: Context switching 과정에서 많은 시간이 소모된다.
- 프로세스 사이의 어렵고 복잡한 통신 기법(IPC): 프로세스는 각각의 독립된 메모리 영역을 할당받았기 떄문에 하나의 프로그램에 속하는 프로세스들 사이의 변수를 공유할 수 없다.

#### 멀티 스레드

- 하나의 응용 프로그램을 여러 개의 스레드로 구성하고 각 스레드로 하여금 하나의 작업을 처리하는 것을 말한다.
- 많은 운영체제들이 멀티 프로세싱을 지원하지만 멀티 스레딩을 기본으로 하고 있다.
- 웹 서버는 대표적인 멀티 스레드 응용프로그램이다.
- 시스템 자원 소모 감소 (자원의 효율성 향상): 프로세스를 생성하여 자원을 할당하는 시스템 콜이 줄어든다.
- 시스템 처리량 증가(처리 비용 감소):스레드간 데이터 주고 받는 것이 간단해진다. 스레드 사이 작업량이 작아 context switching이 빠르다.
- 스택을 제외한 메모리 영역을 공유하기 때문에 스레드간 통신 부담이 적다.
- 자원 공유의 문제가 발생한다.(동기화 문제)
- 하나의 스레드에 문제가 발생하면 전체 프로세스가 영향을 받는다.

## 스레드 세이프란 무엇인지 설명하세요.

- 여러 스레드가 동시에 사용이 되어도 안전하다는 뜻이다.
- 보통 재진입이 가능하게 만들어진 함수일 경우 스레드 세이프이고 전역 변수를 사용하지 않게끔 구성하게 된다.
- 멀티 쓰레드 환경에서 뮤텍스를 사용자가 생각하지 않고 그냥 사용해도 안전하다는 뜻이다.

## 프로세스 스레드 스레드풀 차이를 말해보세요.

### 스레드풀

- 스레드가 계속해서 생성되고 소멸되면 시스템에 많은 부담을 주게 되는데, 스레드를 소멸하지 않고 다시 재사용하는 것을 말한다.

## 윈도우에서 실행되는 프로그램은 삭제 불가한데 유닉스에서는 가능한 이유는 무엇인지 말해보세요.

## 창 1개당 1MB로 가정한다면, 램 1기가로 크롬창 몇개를 킬 수 있을지 말해보세요.

- 1024개

## 램에 데이터가 어떻게 저장되는지 말해보세요.

## 데드락 발생 요인 4가지에 대해 설명하세요.

1. 상호배제: 프로세스들이 필요로 하는 자원에 대해 배타적인 통제권을 요구한다.
2. 점유와 대기: 프로세스가 할당된 자원을 가진 상태에서 다른 자원을 기다리고 있다.
3. 비선점: 프로세스가 어떤 자원의 사용을 끝날 때 까지 그 자원을 뺏을 수 없다.
4. 순환대기: 각 프로세스는 순환적으로 다음 프로세스가 요구하는 자원을 가지고 있다.

### 해결방법

#### 예방

1. 상호배제 조건 제거: 교착 상태에는 두 개 이상의 프로세스가 공유 불가능한 자원을 사용하니 발생하는 것이므로, 상호 배제 조건을 교착상태를 해결할 수 있다.(너도 나도 같이 사용)
2. 점유와 대기 조건 제거: 한 프로세스가 모든 자원을 할당시키고 나서 점유하지 않을 때에는 다른 프로세스가 자원을 요구하도록 한다.
3. 비선점 조건 제거: 비선점 프로세스에 대해 선점 가능한 프로토콜을 만든다.
4. 순환 대기 조건 제거: 자원의 유형에 따라 순서를 매긴다.

#### 회피

자원이 어떻게 요청될지에 대한 추가정보를 제공하도록 요구하는 것으로 시스템에 circular wait가 발생하지 않도록 자원 할당 상태를 검사한다.

1. 자원할당 그래프 알고리즘
2. 은행원 알고리즘

#### 회복

- 교착상태가 발생하는 것을 아예 막지 않고, 만약 교착상태가 발생하면 그때 문제를 해결한다.

## context switch에 대해 설명하세요.

- CPU가 한개의 Task(프로세스 / 스레드)를 실행하고 있는 상태에서 인터럽트 요청에 의해 다른 Task로 실행이 전환되는 과정에서 기존 Task 상태 및 Register 값들에 대한 정보를 저장하고 새로운 Task의 Context정보로 교채하는 작업을 말한다.  
  여기서 Context란, CPU가 다루는 Task(프로세스 / 스레드)에 대한 정보로 대부분의 정보는 레지스터에 저장되고 PCB로 관리된다.

## 뮤텍스와 세마포어 차이에 대해 말해보세요.

### 세마포어

공유된 자원의 데이터를 여러 프로세스가 접근하는 것을 막는 것

### 뮤텍스

공유된 자원의 데이터를 여러 쓰레드가 접근하는 것을 막는 것

### 차이점

- 세마포어는 뮤텍스가 될 수 있지만, 뮤텍스는 세마포어가 될 수 없다.

## 캐시란 무엇인지 말해보세요.

- 고속 메모리 영역으로 RAM으로부터 데이터를 읽을 떄 그 데이터가 캐시에 저장된다. 사용 빈도가 높은 명령들을 캐시에 저장함으로써 프로세서의 성능이 향상된다.
- 프로그램이 수행될 떄 나타나는 지역성을 이용하여 메모리나 디스크에서 사용되었던 내용을 특별히 빠르게 접근할 수 있는 곳에 보관하고 관리함으로써 빠르게 참조하는 것이다.
